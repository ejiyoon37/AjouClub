import{u}from"./useQuery-CRLXNPUU.js";import{c as n}from"./index-DacEIc5C.js";const m=t=>({clubId:t.id,clubName:t.name,clubType:t.clubType,profileImageUrl:t.logoUrl,description:t.description,category:t.category,isRecruiting:t.recruiting,mainActivities:null,location:null,contactPhoneNumber:null,instagramUrl:null,youtubeUrl:null,linktreeUrl:null,clubUrl:null,contactEmail:null,createdAt:"",updatedAt:"",details:null}),d=async t=>{const{isRecruiting:c,department:r,category:l,type:s}=t,e={};s&&(e.type=s),l&&(e.category=l),r&&r!=="전체"&&(e.department=r),c&&(e.status="RECRUITING");const o=Object.values(e).some(i=>i!==void 0);let a;if(o?a=await n.get("/api/club/filter",{params:e}):a=await n.get("/api/club/all"),a.data.status!==200)throw new Error(a.data.message||"Failed to fetch clubs");return a.data.data.map(m)},y=(t={})=>{const{sort:c,...r}=t,{data:l=[],isLoading:s,error:e}=u({queryKey:["clubs",r],queryFn:()=>d(r)});return{clubs:l,isLoading:s,error:e}};export{y as u};
