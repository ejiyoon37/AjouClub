import{j as e,r as c,u as f,a as b}from"./index-DWArhSub.js";import{H as v}from"./Header-B5qY0vLE.js";import{S as N}from"./TextField_search-B50LGBJU.js";import{u as y,R as w}from"./Card_recruitment-DzgQzrL2.js";import{S as h}from"./ic-arrow-down-gray-24-Btsl2hY-.js";import{u as C}from"./useMypageData-CcG2dxmP.js";import{u as S,C as P}from"./Card_Club-B5_KbnHL.js";import"./icn_search_24-2-WrgszhQ_.js";import"./useQuery-DlTsrqeO.js";import"./Chip_period-D6F9JhRQ.js";import"./recruitment-BpmRPh67.js";import"./Default_images-DTygkBZ9.js";import"./Chip_type-BuTpcSAz.js";const I=()=>e.jsx("footer",{className:"w-full bg-gray-800 text-gray-200 text-xs px-4 py-8",children:e.jsxs("div",{className:"max-w-screen-md mx-auto space-y-4",children:[e.jsx("p",{children:"a.Club은 아주대학교 동아리 정보를 비영리적 목적으로 제공하는 비공식 플랫폼입니다."}),e.jsx("p",{children:"본 서비스는 아주대학교 학생들이 주도하는 프로젝트로, 아주대학교 및 그의 산하 기관과는 무관합니다."}),e.jsx("p",{children:"© 2025 a.Club. All rights reserved."})]})}),L="/assets/banner-BbNSWiOD.png";function k(){return e.jsx("div",{className:"w-[343px] h-[102px] mx-auto",children:e.jsx("img",{src:L,alt:"아주대학교 동아리를 담은, a Club",className:"w-full h-full object-cover rounded-[10px]"})})}const M=({currentPage:t,totalPages:a,onPrevPage:r,onNextPage:n})=>{const i="font-sans font-medium text-sm leading-[1.35] tracking-[-0.03em] text-center";return e.jsxs("div",{className:"flex items-center justify-center gap-4 my-6",children:[e.jsx("button",{onClick:r,disabled:t===1,className:"p-2 disabled:opacity-50","aria-label":"Previous Page",children:e.jsx(h,{className:"transform rotate-0"})}),e.jsxs("div",{className:"flex items-center gap-[6px]",children:[e.jsx("span",{className:`${i} text-gray-600`,children:t}),e.jsx("div",{className:"w-px h-3 bg-gray-200"}),e.jsx("span",{className:`${i} text-gray-200`,children:a})]}),e.jsx("button",{onClick:n,disabled:t===a,className:"p-2 disabled:opacity-50","aria-label":"Next Page",children:e.jsx(h,{className:"transform -rotate-180"})})]})},A=t=>c.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},c.createElement("path",{d:"M3.21582 10.4501L8.00024 5.55029L12.7847 10.4501",stroke:"#5A6167",strokeWidth:1.4,strokeLinecap:"round",strokeLinejoin:"round"})),o=({navigateTo:t})=>{const a=f(),r=()=>{a(t)};return e.jsxs("button",{onClick:r,className:"flex items-center justify-center gap-1 p-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-300 leading-[1.35] tracking-[-0.03em]",children:"전체보기"}),e.jsx(A,{className:"w-4 h-4 text-gray-300 -rotate-270"})]})},u=6,R=()=>{const[t,a]=c.useState(1),{posts:r,isLoading:n,error:i}=y(),m=b(s=>s.isLoggedIn),{favorites:d,isLoading:p}=C(),g=c.useMemo(()=>{if(!m||!d)return r;const s=new Set(d.map(l=>l.recruitmentId));return r.map(l=>({...l,isScrapped:s.has(l.recruitmentId)}))},[r,d,m]),x=Math.ceil(g.length/u),j=g.slice((t-1)*u,t*u);return n||m&&p?e.jsx("div",{children:"로딩 중..."}):i?e.jsxs("div",{children:["오류 발생: ",i.message]}):e.jsxs("section",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"지금 모집중인 공고"}),e.jsx(o,{navigateTo:"/recruitment"})]}),e.jsx("div",{className:"grid grid-cols-3 gap-4",children:j.map(s=>e.jsx(w,{recruitmentId:s.recruitmentId,clubId:s.clubId,images:s.images,title:s.title,status:s.status,dDay:s.dDay,viewCount:s.viewCount,scrapCount:s.scrapCount,isScrappedInitially:s.isScrapped},s.recruitmentId))}),x>1&&e.jsx(M,{currentPage:t,totalPages:Math.min(x,10),onPrevPage:()=>a(s=>Math.max(s-1,1)),onNextPage:()=>a(s=>Math.min(s+1,x))})]})},E=(t,a)=>[...t].sort(()=>.5-Math.random()).slice(0,a),T=()=>{const{clubs:t,isLoading:a,error:r}=S({}),n=c.useMemo(()=>t?E(t,6):[],[t]);return a?e.jsxs("section",{className:"mt-6 py-12 bg-white px-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"동아리 둘러보기"}),e.jsx(o,{navigateTo:"/clubs"})]}),e.jsx("div",{className:"text-center text-gray-500",children:"로딩 중..."})]}):r?e.jsxs("section",{className:"mt-6 py-12 bg-white px-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"동아리 둘러보기"}),e.jsx(o,{navigateTo:"/clubs"})]}),e.jsx("div",{className:"text-center text-red-500",children:"데이터 로드 실패"})]}):e.jsxs("section",{className:"mt-6 py-12 bg-white",children:[e.jsx("div",{className:"px-4",children:e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"동아리 둘러보기"}),e.jsx(o,{navigateTo:"/clubs"})]})}),e.jsx("div",{className:"pl-4 flex space-x-2 overflow-x-auto pb-2 -mt-2 scrollbar-hide",children:n.map(i=>e.jsx(P,{club:i},i.clubId))})]})};function Q(){return e.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[e.jsx(v,{variant:"home"}),e.jsxs("main",{className:"flex-grow px-4 pb-20 space-y-6",children:[e.jsx(N,{placeholder:"동아리를 검색해 보세요!"}),e.jsx(k,{}),e.jsx(R,{}),e.jsx(T,{})]}),e.jsx(I,{})]})}export{Q as default};
